(function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],u=0,m=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},o=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/taller2-WA/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"07e7":function(e,t,a){},"07e9":function(e,t,a){"use strict";var r=a("7eae"),n=a.n(r);n.a},"2c71":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"primary",dark:""}}),a("v-main",[a("router-view")],1)],1)},o=[],i={name:"app",created:function(){this.$store.dispatch("load",void 0)}},s=i,c=a("2877"),l=a("6544"),d=a.n(l),u=a("7496"),m=a("40dc"),p=a("f6c4"),v=Object(c["a"])(s,n,o,!1,null,null,null),f=v.exports;d()(v,{VApp:u["a"],VAppBar:m["a"],VMain:p["a"]});a("4160"),a("159b");var b=a("2f62"),h=a("8aa50"),D={apiKey:"AIzaSyBdA_Cm4B_LO_7uWRKBCeb7mP8QgKE_RYs",authDomain:"taller2-f1a65.firebaseapp.com",databaseURL:"https://taller2-f1a65.firebaseio.com",projectId:"taller2-f1a65",storageBucket:"taller2-f1a65.appspot.com",messagingSenderId:"334993998813",appId:"1:334993998813:web:ba7846ce2b03bd262f2c34"},x=h,C=h["initializeApp"](D),g=(C.database(),x.firestore().collection("departments"));r["a"].use(b["a"]);var k={departments:[],getters:_},_={departments:function(e){return e.departments}},y={load:function(e){var t=e.commit;g.onSnapshot((function(e){var a=[];e.forEach((function(e){var t=e.data();t.id=e.id,a.push(t)})),t("SET_DEPARTMENTS",a)}))},createDepartment:function(e,t){return g.add(t)},updateDepartment:function(e,t){var a=t.id,r=t.payload;return g.doc(a).set(r)},deleteDepartment:function(e,t){return g.doc(t).delete()}},V={SET_DEPARTMENTS:function(e,t){e.departments=t}},w=new b["a"].Store({state:k,mutations:V,getters:_,actions:y}),j=a("8c4f"),S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("h1",{staticClass:"mt-2 mb-2"},[e._v("Crear departamento")]),a("v-card",{staticClass:"mt-4 pa-5"},[a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-label",label:"Nombre"},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-account-tie",label:"Coordinador"},model:{value:e.coordinador,callback:function(t){e.coordinador=t},expression:"coordinador"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-account-group",type:"number",label:"Número de usuarios"},model:{value:e.numeroUsuarios,callback:function(t){e.numeroUsuarios=t},expression:"numeroUsuarios"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-map-marker",label:"Dirección"},model:{value:e.direccion,callback:function(t){e.direccion=t},expression:"direccion"}}),a("v-checkbox",{attrs:{label:"Departamento activo: "+e.estado.toString()},model:{value:e.estado,callback:function(t){e.estado=t},expression:"estado"}}),a("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"primary"},on:{click:e.submit}},[e._v(" submit ")])],1)],1)],1)],1)],1)],1)},A=[],E={data:function(){return{nombre:"",coordinador:"",numeroUsuarios:"",direccion:"",estado:!0,valid:!0}},methods:{submit:function(){var e=this,t={nombre:this.nombre,coordinador:this.coordinador,numeroUsuarios:this.numeroUsuarios,direccion:this.direccion,estado:this.estado};this.$store.dispatch("createDepartment",t).then((function(){return e.$router.push("/departments")})).catch((function(e){alert("Error al agregar el departamento"),console.log(e)}))}}},U=E,O=(a("07e9"),a("8336")),T=a("b0af"),$=a("ac7c"),P=a("62ad"),I=a("a523"),B=a("4bd4"),N=a("0fd9"),M=a("8654"),R=Object(c["a"])(U,S,A,!1,null,null,null),z=R.exports;d()(R,{VBtn:O["a"],VCard:T["a"],VCheckbox:$["a"],VCol:P["a"],VContainer:I["a"],VForm:B["a"],VRow:N["a"],VTextField:M["a"]});var q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("h1",{staticClass:"mt-2 mb-2"},[e._v("Actualizar departamento")]),a("v-card",{staticClass:"mt-4 pa-5"},[a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-label",label:"Nombre"},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-account-tie",label:"Coordinador"},model:{value:e.coordinador,callback:function(t){e.coordinador=t},expression:"coordinador"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-account-group",type:"number",label:"Número de usuarios"},model:{value:e.numeroUsuarios,callback:function(t){e.numeroUsuarios=t},expression:"numeroUsuarios"}}),a("v-text-field",{attrs:{"prepend-icon":"mdi-map-marker",label:"Dirección"},model:{value:e.direccion,callback:function(t){e.direccion=t},expression:"direccion"}}),a("v-checkbox",{attrs:{label:"Departamento activo: "+e.estado.toString()},model:{value:e.estado,callback:function(t){e.estado=t},expression:"estado"}}),a("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"primary"},on:{click:e.submit}},[e._v(" submit ")])],1)],1)],1)],1)],1)],1)},F=[],K=(a("7db0"),{created:function(){this.id=this.$route.params.ID},data:function(){return{nombre:"",coordinador:"",numeroUsuarios:"",direccion:"",estado:!0,valid:!0,id:""}},computed:{department:function(){var e=this;return this.$store.getters["departments"].find((function(t){return t.id===e.id}))}},watch:{department:function(e){this.nombre=e.nombre,this.coordinador=e.coordinador,this.numeroUsuarios=e.numeroUsuarios,this.direccion=e.direccion,this.estado=e.estado}},methods:{submit:function(){var e=this,t={nombre:this.nombre,coordinador:this.coordinador,numeroUsuarios:this.numeroUsuarios,direccion:this.direccion,estado:this.estado};this.$store.dispatch("updateDepartment",{id:this.id,payload:t}).then((function(){return e.$router.push("/departments")})).catch((function(e){alert("Error al actualizar el departamento"),console.log(e)}))}}}),W=K,J=(a("6efe"),Object(c["a"])(W,q,F,!1,null,null,null)),L=J.exports;d()(J,{VBtn:O["a"],VCard:T["a"],VCheckbox:$["a"],VCol:P["a"],VContainer:I["a"],VForm:B["a"],VRow:N["a"],VTextField:M["a"]});var Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("h1",{staticClass:"mt-2 mb-2"},[e._v("Departamentos")]),a("v-card",{staticClass:"mt-4 pa-5"},[a("v-card-title",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{headers:e.headers,items:e.departments,search:e.search},scopedSlots:e._u([{key:"item.acciones",fn:function(t){var r=t.item;return[a("v-btn",{staticClass:"ma-2",attrs:{to:{name:"departmentUpdate",params:{ID:r.id}},color:"primary",dark:""}},[e._v(" Actualizar ")]),a("v-btn",{staticClass:"ma-2",attrs:{color:"red",dark:""},on:{click:function(t){return e.modalDeleteDepartament(r)}}},[e._v(" Eliminar ")])]}}])})],1),a("div",{staticClass:"mt-4"},[a("v-btn",{staticClass:"mt-2 mb-2 ",attrs:{to:{name:"departmentCreate"},color:"primary",dark:""}},[e._v(" Crear Departamento ")])],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.stateDeleteDepartament,callback:function(t){e.stateDeleteDepartament=t},expression:"stateDeleteDepartament"}},[a("v-card",[e.objectDepartament?a("v-card-title",{staticClass:"headline"},[e._v(" ¿Desea eliminar el departamento "+e._s(e.objectDepartament.nombre)+"? ")]):e._e(),a("v-card-text",[e._v("Si se elimina, no se podra recuperar")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.cancelDeleteDepartment}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.deleteDepartment}},[e._v(" Eliminar ")])],1)],1)],1)],1)},Y=[],G={data:function(){return{search:"",headers:[{text:"Nombre",value:"nombre"},{text:"Coordinador",value:"coordinador"},{text:"Número de usuarios",value:"numeroUsuarios"},{text:"Dirección",value:"direccion"},{text:"Estado",value:"estado"},{text:"Acciones",value:"acciones",align:"center"}],stateDeleteDepartament:!1,objectDepartament:void 0}},methods:{modalDeleteDepartament:function(e){this.stateDeleteDepartament=!0,this.objectDepartament=e},cancelDeleteDepartment:function(){this.stateDeleteDepartament=!1,this.objectDepartament=void 0},deleteDepartment:function(){var e=this;this.$store.dispatch("deleteDepartment",this.objectDepartament.id).then((function(){return e.cancelDeleteDepartment()})).catch((function(e){alert("Error al actualizar el departamento"),console.log(e)}))}},computed:{departments:function(){return this.$store.getters["departments"]}}},H=G,X=(a("a6ac"),a("99d9")),Z=a("8fea"),ee=a("169a"),te=a("2fa4"),ae=Object(c["a"])(H,Q,Y,!1,null,null,null),re=ae.exports;d()(ae,{VBtn:O["a"],VCard:T["a"],VCardActions:X["a"],VCardText:X["b"],VCardTitle:X["c"],VDataTable:Z["a"],VDialog:ee["a"],VSpacer:te["a"],VTextField:M["a"]}),r["a"].use(j["a"]);var ne=[{path:"/dashboard",name:"dashboard",meta:{requiresAuth:!0}},{path:"/users",name:"users",meta:{requiresAuth:!0}},{path:"/user/:ID",name:"userDetail",meta:{requiresAuth:!0}},{path:"/user",name:"userCreate",meta:{requiresAuth:!0}},{path:"/departments",name:"departments",component:re},{path:"/department/detail/:ID",name:"departmentDetail",meta:{requiresAuth:!0}},{path:"/department/create",name:"departmentCreate",component:z},{path:"/department/update/:ID",name:"departmentUpdate",component:L}],oe=new j["a"]({mode:"history",base:"/taller2-WA/",routes:ne}),ie=oe,se=a("f309");r["a"].use(se["a"]);var ce=new se["a"]({});r["a"].config.productionTip=!1,new r["a"]({vuetify:ce,router:ie,store:w,render:function(e){return e(f)}}).$mount("#app")},"6efe":function(e,t,a){"use strict";var r=a("07e7"),n=a.n(r);n.a},"7eae":function(e,t,a){},a6ac:function(e,t,a){"use strict";var r=a("2c71"),n=a.n(r);n.a}});
//# sourceMappingURL=app.dd088753.js.map